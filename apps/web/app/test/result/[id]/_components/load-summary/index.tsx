import { HelpCircle } from "lucide-react";
import { CustTooltip } from "@/components/tooltip";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { LoadSummaryChartProps, SummaryDetailsProps } from "../../_types";
import { LoadSummaryChart } from "../load-summary-line-chart";
import { SummaryDetails } from "../summary-details";

export const LoadSummaryContent = ({
  metrics,
  ...result
}: LoadSummaryChartProps & SummaryDetailsProps) => {
  return (
    <Card className="w-full gap-0 p-0">
      <CardHeader className="p-0 gap-0">
        <CardTitle className="flex gap-1 font-medium text-[0.8125rem] text-neutral-600 dark:text-neutral-300/80 px-5 py-3.5">
          Load summary
          <CustTooltip content="Key summary of the load generated by this test run">
            <HelpCircle size={12} className="-mt-1 text-teal-600 hover:text-teal-300" aria-hidden />
          </CustTooltip>
        </CardTitle>
        <CardDescription className="border-y dark:border-neutral-700/30">
          <SummaryDetails {...result} />
        </CardDescription>
      </CardHeader>
      <CardContent className="w-full px-0 pt-0 pb-4">
        <LoadSummaryChart metrics={metrics} />
      </CardContent>
    </Card>
  );
};
